{"version":3,"sources":["webpack:///static/js/app.5d3db5d8740f9a52f8ad.js","webpack:///src/components/ZoomMatchMeter.vue","webpack:///./src/components/ZoomMatchMeter.vue?697e","webpack:///./src/components/Map.vue?ff43","webpack:///src/components/Toolbar.vue","webpack:///src/components/Home.vue","webpack:///./src/App.vue?fc6a","webpack:///./src/main.js","webpack:///./src/components/ZoomMatchMeter.vue?10e4","webpack:///./src/components/Map.vue?cb40","webpack:///./src/jobs.js","webpack:///./src/App.vue?1838","webpack:///./src/router/index.js","webpack:///./src/components/Toolbar.vue?a6cd","webpack:///src/components/Map.vue","webpack:///./src/components/Home.vue?3806","webpack:///./src/components/Home.vue?8ae6","webpack:///./src/components/Toolbar.vue?3b62","webpack:///src/App.vue"],"names":["webpackJsonp","0Ht+","module","__webpack_exports__","__webpack_require__","props","data","meterHeight","2C1S","injectStyle","ssrContext","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_ZoomMatchMeter_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_863506d4_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_ZoomMatchMeter_vue__","normalizeComponent","__vue_styles__","Component","3GDu","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_Map_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_111f83cd_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_Map_vue__","4x6I","methods","updateSearch","search","this","$emit","searchText","FTuW","exports","Fs8J","__WEBPACK_IMPORTED_MODULE_0_lodash_debounce__","__WEBPACK_IMPORTED_MODULE_0_lodash_debounce___default","n","name","location","suggestions","submitted","missingKeyword","missingLocation","isOpen","pickLocation","suggestion","window","ga","_id","onSearch","_this","getSuggestions","then","length","coordinates","$router","push","path","query","lat","lng","zoom","debounceSuggestions","_this2","fetch","resp","json","watch","mounted","M93x","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_App_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_25441132_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_App_vue__","NHnr","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_vue__","__WEBPACK_IMPORTED_MODULE_1__App__","__WEBPACK_IMPORTED_MODULE_2__router__","config","productionTip","el","router","template","components","App","PpX7","render","_vm","_h","$createElement","_c","_self","staticClass","_m","_v","style","bottom","Math","round","staticRenderFns","esExports","QnF/","attrs","changeSearch","model","callback","$$v","expression","cacheMessage","inCache","_s","message","_e","id","TF2e","d","buildJobs","removeOkJobsMarker","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default","__WEBPACK_IMPORTED_MODULE_1_leaflet__","__WEBPACK_IMPORTED_MODULE_1_leaflet___default","__WEBPACK_IMPORTED_MODULE_2_lodash_forEach__","__WEBPACK_IMPORTED_MODULE_2_lodash_forEach___default","markerOptions","popupAnchor","goodMatch","a","icon","iconUrl","iconSize","okMatch","getPercentile","jobs","floor","jobObj","percentile","forEach","buildJob","bind","job","index","status","marker","newMarker","score","bindPopup","link","title","company","description","map","average","removeLayer","Vq/C","YaEn","__WEBPACK_IMPORTED_MODULE_1_vue_router__","__WEBPACK_IMPORTED_MODULE_2__components_Map__","__WEBPACK_IMPORTED_MODULE_3__components_Home__","use","routes","component","d+SX","djO7","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_Toolbar_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_6a28adec_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_Toolbar_vue__","fGNU","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default","__WEBPACK_IMPORTED_MODULE_2_leaflet__","__WEBPACK_IMPORTED_MODULE_2_leaflet___default","__WEBPACK_IMPORTED_MODULE_3_lodash_debounce__","__WEBPACK_IMPORTED_MODULE_3_lodash_debounce___default","__WEBPACK_IMPORTED_MODULE_4__ZoomMatchMeter__","__WEBPACK_IMPORTED_MODULE_5__Toolbar__","__WEBPACK_IMPORTED_MODULE_6_lodash_forEach__","__WEBPACK_IMPORTED_MODULE_6_lodash_forEach___default","__WEBPACK_IMPORTED_MODULE_7__jobs__","oldZoom","decodeURIComponent","getQueryString","isShowingGoodMatches","isShowingOkMatches","markerLayer","socket","totalJobs","host","jobScoreAverage","getMessage","bounds","getBounds","center","getCenter","coords","type","keyword","within","_southWest","_northEast","panToCompanyOnMap","panTo","LatLng","debouncedSendCoords","send","sendCoords","getZoom","updateQueryString","replace","field","href","reg","RegExp","string","exec","populateJobs","clearLayers","newJobs","i","addTo","created","WebSocket","onmessage","_ref","JSON","parse","from","_this3","document","getElementById","setAttribute","innerHeight","layerGroup","latitude","longitude","tileLayer","maxZoom","accessToken","setView","on","ZoomMatchMeter","Toolbar","fIyt","kEm/","lO7g","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_Home_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_246bbd84_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_Home_vue__","llp2","directives","rawName","class","search__input","search__input--error","placeholder","domProps","input","$event","target","composing","list","_l","click","src","nue+","qcAB","to","submit","preventDefault","xJD8"],"mappings":"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","file":"static/js/app.5d3db5d8740f9a52f8ad.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ \"0Ht+\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  props: ['zoom'],\n  data: function data() {\n    return {\n      meterHeight: 70\n    };\n  }\n});\n\n/***/ }),\n\n/***/ \"2C1S\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_ZoomMatchMeter_vue__ = __webpack_require__(\"0Ht+\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_863506d4_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_ZoomMatchMeter_vue__ = __webpack_require__(\"PpX7\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"kEm/\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-863506d4\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_ZoomMatchMeter_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_863506d4_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_ZoomMatchMeter_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"3GDu\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_Map_vue__ = __webpack_require__(\"fGNU\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_111f83cd_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_Map_vue__ = __webpack_require__(\"QnF/\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"d+SX\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-111f83cd\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_Map_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_111f83cd_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_Map_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"4x6I\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  props: ['search', 'changeSearch'],\n  methods: {\n    updateSearch: function updateSearch(search) {\n      this.$emit('input', search);\n    }\n  },\n  data: function data() {\n    return {\n      searchText: ''\n    };\n  }\n});\n\n/***/ }),\n\n/***/ \"FTuW\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"Fs8J\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash_debounce__ = __webpack_require__(\"O4Lo\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash_debounce___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash_debounce__);\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\nvar host =  false ? 'localhost:3001' : '104.236.76.175';\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  name: 'Home',\n  data: function data() {\n    return {\n      search: '',\n      location: '',\n      suggestions: [],\n      submitted: false,\n      missingKeyword: false,\n      missingLocation: false,\n      isOpen: false\n    };\n  },\n\n  methods: {\n    pickLocation: function pickLocation(suggestion) {\n      window.ga('send', 'event', 'pickLocation', suggestion._id);\n      this.location = suggestion._id;\n      this.isOpen = false;\n    },\n    onSearch: function onSearch() {\n      var _this = this;\n\n      this.submitted = true;\n\n      if (!this.search) {\n        this.missingKeyword = true;\n      } else {\n        this.missingKeyword = false;\n      }\n\n      if (!this.location) {\n        this.missingLocation = true;\n      } else {\n        this.missingLocation = false;\n      }\n\n      this.getSuggestions().then(function (suggestions) {\n        if (suggestions.length > 0) {\n          var coordinates = suggestions[0].location.coordinates;\n\n          var search = _this.search;\n\n          window.ga('send', 'event', 'search', search + ' | ' + coordinates[0] + ', ' + coordinates[1]);\n\n          _this.$router.push({\n            path: '/map',\n            query: { lat: coordinates[1], lng: coordinates[0], search: search, zoom: 10 }\n          });\n        }\n      });\n    },\n\n    debounceSuggestions: __WEBPACK_IMPORTED_MODULE_0_lodash_debounce___default()(function () {\n      var _this2 = this;\n\n      this.getSuggestions().then(function (suggestions) {\n        if (suggestions.length > 0) {\n          _this2.isOpen = true;\n        }\n\n        _this2.suggestions = suggestions;\n      });\n    }, 500),\n    getSuggestions: function getSuggestions() {\n      return fetch('http://' + host + '/suggestion?location=' + this.location).then(function (resp) {\n        return resp.json();\n      });\n    }\n  },\n  watch: {\n    location: function location() {\n      if (this.location.length > 1) {\n        this.debounceSuggestions();\n      }\n    }\n  },\n  mounted: function mounted() {\n    window.ga('send', 'pageview', '/');\n  }\n});\n\n/***/ }),\n\n/***/ \"M93x\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_App_vue__ = __webpack_require__(\"xJD8\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_25441132_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_App_vue__ = __webpack_require__(\"Vq/C\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"fIyt\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_App_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_25441132_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_App_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"NHnr\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(\"7+uW\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App__ = __webpack_require__(\"M93x\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__router__ = __webpack_require__(\"YaEn\");\n// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].config.productionTip = false;\n\n/* eslint-disable no-new */\nnew __WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */]({\n  el: '#app',\n  router: __WEBPACK_IMPORTED_MODULE_2__router__[\"a\" /* default */],\n  template: '<App/>',\n  components: { App: __WEBPACK_IMPORTED_MODULE_1__App__[\"a\" /* default */] }\n});\n\n/***/ }),\n\n/***/ \"PpX7\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"zmm\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"zmm__indicator\",style:({ bottom: (Math.round(_vm.meterHeight / 12)) * _vm.zoom + 'px' })})])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"zmm__bar\"},[_c('div',{staticClass:\"zmm__ok\"}),_vm._v(\" \"),_c('div',{staticClass:\"zmm__good\"})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"QnF/\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"clearfix layout\"},[_c('toolbar',{attrs:{\"changeSearch\":_vm.changeSearch,\"search\":_vm.search},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}}),_vm._v(\" \"),(_vm.cacheMessage && !_vm.cacheMessage.inCache)?_c('div',{staticClass:\"cache\"},[_c('i',{staticClass:\"fa fa-spin fa-circle-o-notch\"}),_vm._v(\"\\n    \"+_vm._s(_vm.cacheMessage.message)+\"\\n  \")]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"layout__content\"},[_c('div',{staticClass:\"layout__map\"},[_c('zoom-match-meter',{attrs:{\"zoom\":_vm.zoom}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"mapid\"}})],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"TF2e\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return buildJobs; });\n/* unused harmony export newMarker */\n/* unused harmony export getPercentile */\n/* unused harmony export removeDuplicateJobs */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return removeOkJobsMarker; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__ = __webpack_require__(\"Dd8w\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_leaflet__ = __webpack_require__(\"nrd6\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_leaflet___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_leaflet__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_lodash_forEach__ = __webpack_require__(\"309y\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_lodash_forEach___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_lodash_forEach__);\n\n\n\n\nvar host =  false ? 'localhost:3001' : 'pathwaay.io';\n\nvar markerOptions = {\n  popupAnchor: [0, -5]\n};\n\nvar goodMatch = __WEBPACK_IMPORTED_MODULE_1_leaflet___default.a.icon(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default()({\n  iconUrl: 'http://' + host + '/markers/good_match_circle.svg',\n  iconSize: [25, 25]\n}, markerOptions));\n\nvar okMatch = __WEBPACK_IMPORTED_MODULE_1_leaflet___default.a.icon(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default()({\n  iconUrl: 'http://' + host + '/markers/ok_match_circle.svg',\n  iconSize: [18, 18]\n}, markerOptions));\n\nvar getPercentile = function getPercentile(jobs) {\n  return Math.floor(jobs.length * 0.75);\n};\n\nvar buildJobs = function buildJobs(jobs, jobObj) {\n  var percentile = getPercentile(jobs);\n  jobs.forEach(buildJob.bind(null, jobObj, percentile));\n  return jobObj;\n};\n\nvar buildJob = function buildJob(jobs, percentile, job, index) {\n  jobs[job.id] = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default()({}, jobs[job.id], job, { index: index, status: index < percentile ? 'ok' : 'good' });\n  jobs[job.id].marker = newMarker(job, percentile, index);\n};\n\nvar newMarker = function newMarker(job, percentile, index) {\n  var coordinates = job.location.coordinates;\n\n\n  var marker = __WEBPACK_IMPORTED_MODULE_1_leaflet___default.a.marker([coordinates[1], coordinates[0]], {\n    icon: index < percentile ? okMatch : goodMatch,\n    score: job.score\n  });\n\n  marker.bindPopup('\\n    <div class=\"marker\">\\n      <h5 class=\"marker__title\">\\n        <a class=\"marker__title__link\" href=\"https://indeed.com' + job.link + '\" target=\"_blank\" onclick=\"ga(\\'send\\', \\'event\\', \\'title\\', \\'click\\', \\'' + job.title + '\\')\">\\n          ' + job.title + '\\n        </a>\\n      </h5>\\n      <a class=\"marker__company\" href=\"https://indeed.com' + job.link + '\" target=\"_blank\" onclick=\"ga(\\'send\\', \\'event\\', \\'company\\', \\'click\\', \\'' + job.title + '\\')\">' + job.company + '</a>\\n      <p class=\"marker__description\">' + job.description + '</p>\\n    </div>\\n  ');\n\n  return marker;\n};\n\nvar removeDuplicateJobs = function removeDuplicateJobs(oldJobs, newJobs) {\n  var uniqueJobs = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default()({}, oldJobs);\n\n  __WEBPACK_IMPORTED_MODULE_2_lodash_forEach___default()(newJobs, function (newJob) {\n    delete uniqueJobs[newJob.id];\n  });\n\n  return uniqueJobs;\n};\n\nvar removeOkJobsMarker = function removeOkJobsMarker(jobs, map, average) {\n  __WEBPACK_IMPORTED_MODULE_2_lodash_forEach___default()(jobs, function (job) {\n    if (job.score < average) {\n      map.removeLayer(job.marker);\n    }\n  });\n};\n\n\n\n/***/ }),\n\n/***/ \"Vq/C\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"YaEn\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(\"7+uW\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vue_router__ = __webpack_require__(\"/ocq\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_Map__ = __webpack_require__(\"3GDu\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_Home__ = __webpack_require__(\"lO7g\");\n\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].use(__WEBPACK_IMPORTED_MODULE_1_vue_router__[\"a\" /* default */]);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (new __WEBPACK_IMPORTED_MODULE_1_vue_router__[\"a\" /* default */]({\n  routes: [{\n    path: '/',\n    name: 'Home',\n    component: __WEBPACK_IMPORTED_MODULE_3__components_Home__[\"a\" /* default */]\n  }, {\n    path: '/map',\n    name: 'Map',\n    component: __WEBPACK_IMPORTED_MODULE_2__components_Map__[\"a\" /* default */]\n  }]\n}));\n\n/***/ }),\n\n/***/ \"d+SX\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"djO7\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_Toolbar_vue__ = __webpack_require__(\"4x6I\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_6a28adec_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_Toolbar_vue__ = __webpack_require__(\"qcAB\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"FTuW\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6a28adec\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_Toolbar_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_6a28adec_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_Toolbar_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"fGNU\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__ = __webpack_require__(\"Dd8w\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify__ = __webpack_require__(\"mvHQ\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_leaflet__ = __webpack_require__(\"nrd6\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_leaflet___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_leaflet__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_lodash_debounce__ = __webpack_require__(\"O4Lo\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_lodash_debounce___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_lodash_debounce__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__ZoomMatchMeter__ = __webpack_require__(\"2C1S\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__Toolbar__ = __webpack_require__(\"djO7\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_lodash_forEach__ = __webpack_require__(\"309y\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_lodash_forEach___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_lodash_forEach__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__jobs__ = __webpack_require__(\"TF2e\");\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  name: 'map',\n  data: function data() {\n    var host =  false ? 'localhost:3001' : '104.236.76.175';\n    return {\n      zoom: 0,\n      oldZoom: 0,\n      search: decodeURIComponent(this.getQueryString('search')),\n      isShowingGoodMatches: true,\n      isShowingOkMatches: false,\n      map: null,\n      markerLayer: null,\n      jobs: {},\n      socket: {},\n      totalJobs: 0,\n      host: host,\n      cacheMessage: null,\n      jobScoreAverage: 0\n    };\n  },\n\n  methods: {\n    getMessage: function getMessage() {\n      var bounds = this.map.getBounds();\n      var center = this.map.getCenter();\n      var coords = [center.lng, center.lat];\n\n      var box = {\n        type: 'mapMove',\n        data: {\n          keyword: this.search,\n          within: [[bounds._southWest.lng, bounds._northEast.lat], [bounds._northEast.lng, bounds._northEast.lat], [bounds._northEast.lng, bounds._southWest.lat], [bounds._southWest.lng, bounds._southWest.lat], [bounds._southWest.lng, bounds._northEast.lat]],\n          center: coords\n        }\n      };\n\n      return box;\n    },\n    panToCompanyOnMap: function panToCompanyOnMap(job) {\n      this.map.panTo(new __WEBPACK_IMPORTED_MODULE_2_leaflet___default.a.LatLng(job.location.coordinates[1], job.location.coordinates[0]));\n    },\n\n    debouncedSendCoords: __WEBPACK_IMPORTED_MODULE_3_lodash_debounce___default()(function () {\n      var message = this.getMessage();\n      window.ga('send', 'event', 'mapSearch', message.data.keyword, message.data.center[0] + ', ' + message.data.center[1]);\n      this.socket.send(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default()(message));\n    }, 500),\n    changeSearch: function changeSearch() {\n      this.sendCoords();\n    },\n    sendCoords: function sendCoords() {\n      if (this.map.getZoom() >= 5 && this.search.length > 2) {\n        this.debouncedSendCoords();\n      }\n      this.updateQueryString();\n    },\n    updateQueryString: function updateQueryString() {\n      var center = this.map.getCenter();\n      var search = this.search;\n      var zoom = this.map.getZoom();\n\n      this.$router.replace({\n        path: '/map',\n        query: { lat: center.lat, lng: center.lng, search: search, zoom: zoom }\n      });\n    },\n    getQueryString: function getQueryString(field) {\n      var href = window.location.href;\n      var reg = new RegExp('[?&]' + field + '=([^&#]*)', 'i');\n      var string = reg.exec(href);\n      return string ? string[1] : null;\n    },\n    populateJobs: function populateJobs(jobs) {\n      var _this = this;\n\n      this.map.removeLayer(this.markerLayer);\n      this.markerLayer.clearLayers();\n\n      var newJobs = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7__jobs__[\"a\" /* buildJobs */])(jobs, __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default()({}, this.jobs));\n      this.jobs = {};\n\n      __WEBPACK_IMPORTED_MODULE_6_lodash_forEach___default()(newJobs, function (job) {\n        if (_this.zoom < 11 && job.status === 'ok') {\n          return;\n        }\n\n        job.marker.addTo(_this.markerLayer);\n      });\n\n      this.markerLayer.addTo(this.map);\n      this.jobs = newJobs;\n    }\n  },\n  created: function created() {\n    var _this2 = this;\n\n    this.socket = new WebSocket('ws://' + this.host + '/ws');\n    this.socket.onmessage = function (_ref) {\n      var data = _ref.data;\n\n      var resp = JSON.parse(data);\n\n      switch (resp.type) {\n        case 'jobs':\n          if (resp.from === 'indeed') {\n            _this2.cacheMessage = null;\n          }\n          _this2.populateJobs(resp.message);\n          break;\n        case 'cache':\n          _this2.cacheMessage = resp;\n          break;\n      }\n    };\n  },\n  mounted: function mounted() {\n    var _this3 = this;\n\n    document.getElementById('mapid').setAttribute('style', 'height:' + (window.innerHeight - 20) + 'px;position:relative');\n\n    this.map = __WEBPACK_IMPORTED_MODULE_2_leaflet___default.a.map('mapid');\n    this.markerLayer = __WEBPACK_IMPORTED_MODULE_2_leaflet___default.a.layerGroup().addTo(this.map);\n\n    var latitude = this.getQueryString('lat') || 47.658780;\n    var longitude = this.getQueryString('lng') || -117.426046;\n    var zoom = this.getQueryString('zoom') || 10;\n\n    this.zoom = zoom;\n\n    window.ga('send', 'pageview', '/map');\n\n    __WEBPACK_IMPORTED_MODULE_2_leaflet___default.a.tileLayer('https://api.mapbox.com/styles/v1/snippyboons/cj9z60tsd89lw2sphcbqnd0x4/tiles/256/{z}/{x}/{y}?access_token=pk.eyJ1Ijoic25pcHB5Ym9vbnMiLCJhIjoiY2o4YXBpOThmMDRqMjMycDZhOGt6dTVibCJ9.dTxAsWgm-MNT-wBTVCBODg', {\n      maxZoom: 16,\n      id: 'mapbox.streets',\n      accessToken: 'pk.eyJ1Ijoic25pcHB5Ym9vbnMiLCJhIjoiY2o4YXBpOThmMDRqMjMycDZhOGt6dTVibCJ9.dTxAsWgm-MNT-wBTVCBODg'\n    }).addTo(this.map);\n\n    this.map.setView([latitude, longitude], zoom);\n    this.map.on('moveend', this.sendCoords);\n    this.map.on('zoomend', function () {\n      _this3.zoom = _this3.map.getZoom();\n\n      if (_this3.zoom < 12) {\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7__jobs__[\"b\" /* removeOkJobsMarker */])(_this3.jobs, _this3.map, _this3.jobScoreAverage);\n      }\n\n      _this3.oldZoom = _this3.zoom;\n    });\n\n    this.sendCoords();\n  },\n\n  components: {\n    ZoomMatchMeter: __WEBPACK_IMPORTED_MODULE_4__ZoomMatchMeter__[\"a\" /* default */],\n    Toolbar: __WEBPACK_IMPORTED_MODULE_5__Toolbar__[\"a\" /* default */]\n  }\n});\n\n/***/ }),\n\n/***/ \"fIyt\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"kEm/\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"lO7g\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_Home_vue__ = __webpack_require__(\"Fs8J\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_246bbd84_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_Home_vue__ = __webpack_require__(\"llp2\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"nue+\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_Home_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_246bbd84_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_Home_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"llp2\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"home\"},[_c('h1',{staticClass:\"home__title\"},[_vm._v(\"\\n    Pathwaay\\n  \")]),_vm._v(\" \"),_c('h2',{staticClass:\"home__subtitle\"},[_vm._v(\"\\n    Find your next career move the right way\\n  \")]),_vm._v(\" \"),_c('div',{staticClass:\"search\"},[_c('div',{staticClass:\"search__fields\"},[_c('div',{staticClass:\"sm-flex\"},[_c('label',{staticClass:\"search__keyword\"},[_c('p',{staticClass:\"search__label-text\"},[_vm._v(\"\\n              Keyword:\\n              \"),(_vm.submitted && _vm.missingKeyword)?_c('small',{staticClass:\"search__error\"},[_vm._v(\"(required)\")]):_vm._e()]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.search),expression:\"search\"}],class:{ search__input: true, 'search__input--error': _vm.submitted && _vm.missingKeyword},attrs:{\"type\":\"text\",\"placeholder\":\"Plumber\"},domProps:{\"value\":(_vm.search)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.search=$event.target.value}}})]),_vm._v(\" \"),_c('label',{staticClass:\"search__location\"},[_c('p',{staticClass:\"search__label-text\"},[_vm._v(\"City, State:\\n              \"),(_vm.submitted && _vm.missingLocation)?_c('small',{staticClass:\"search__error\"},[_vm._v(\"(required)\")]):_vm._e()]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.location),expression:\"location\"}],class:{ search__input: true, 'search__input--error': _vm.submitted && _vm.missingLocation},attrs:{\"type\":\"text\",\"placeholder\":\"New York, NY\",\"list\":\"suggestions\"},domProps:{\"value\":(_vm.location)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.location=$event.target.value}}}),_vm._v(\" \"),(_vm.isOpen && _vm.suggestions.length > 0 && !(_vm.suggestions.length === 1 && _vm.suggestions[0]._id === _vm.location))?_c('div',{staticClass:\"suggestions\"},_vm._l((_vm.suggestions),function(suggestion){return _c('div',{staticClass:\"suggestions__suggestion\",on:{\"click\":function($event){_vm.pickLocation(suggestion)}}},[_vm._v(\"\\n                \"+_vm._s(suggestion._id)+\"\\n              \")])})):_vm._e()])])]),_vm._v(\" \"),_c('div',{staticClass:\"search__actions\"},[_c('button',{staticClass:\"search__submit\",on:{\"click\":_vm.onSearch}},[_vm._v(\"\\n        Find my next career\\n      \")])])]),_vm._v(\" \"),_c('img',{staticClass:\"home__hero\",attrs:{\"src\":\"/static/home_map.svg\"}})])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"nue+\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"qcAB\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"toolbar\"},[_c('div',{staticClass:\"titlebar\"},[_c('router-link',{staticClass:\"titlebar__router-link\",attrs:{\"to\":'/'}},[_c('img',{staticClass:\"titlebar__icon\",attrs:{\"src\":\"/static/map.svg\"}})]),_vm._v(\" \"),_c('h1',{staticClass:\"titlebar__title\"},[_vm._v(\"Pathwaay\")]),_vm._v(\" \"),_c('p',{staticClass:\"titlebar__search-label\"},[_vm._v(\"Search:\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"search\"},[_c('form',{staticClass:\"search__form\",on:{\"submit\":function($event){$event.preventDefault();_vm.changeSearch($event)}}},[_c('input',{staticClass:\"search__textbox\",attrs:{\"type\":\"text\"},domProps:{\"value\":_vm.search},on:{\"input\":function($event){_vm.updateSearch($event.target.value)}}})])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"xJD8\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  name: 'app'\n});\n\n/***/ })\n\n},[\"NHnr\"]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.5d3db5d8740f9a52f8ad.js","<template>\n  <div class=\"zmm\">\n    <div class=\"zmm__bar\">\n      <div class=\"zmm__ok\"></div>\n      <div class=\"zmm__good\"></div>\n    </div>\n      <div class=\"zmm__indicator\" :style=\"{ bottom: (Math.round(meterHeight / 12)) * zoom + 'px' }\"></div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: ['zoom'],\n  data () {\n    return {\n      meterHeight: 70\n    }\n  }\n}\n</script>\n\n<style lang=\"stylus\" scoped>\n@import './../stylus/colors';\n\n.zmm {\n  meter-height = 70px\n  borderrad = 10px\n  position absolute\n  top meter-height\n  right 10px\n  z-index 998\n\n  border 1px solid #626262\n  border-radius borderrad\n\n\n  &__bar {\n    content \"\"\n    height 100px\n    width 8px\n    display flex\n    flex-direction column\n  }\n\n  &__good {\n    flex 3\n    background-color mint\n  }\n\n  &__ok {\n    flex 2\n    background-color warm\n  }\n\n  &__bad {\n    flex 1\n    background-color red\n  }\n\n  div:first-child {\n    border-top-left-radius borderrad\n    border-top-right-radius borderrad\n  }\n\n  div:last-child {\n    border-bottom-left-radius borderrad\n    border-bottom-right-radius borderrad\n  }\n\n  &__indicator {\n    indic-width = 22px\n\n    content \"\"\n    z-index 999\n    position absolute\n    width indic-width\n    margin-left -(indic-width / 3)px\n    height 6px\n    background-color white\n    border 1px solid #424242\n    border-radius 10px\n  }\n}\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/ZoomMatchMeter.vue","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-863506d4\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ZoomMatchMeter.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ZoomMatchMeter.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-863506d4\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./ZoomMatchMeter.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-863506d4\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ZoomMatchMeter.vue\n// module id = 2C1S\n// module chunks = 1","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-111f83cd\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Map.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Map.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-111f83cd\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Map.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-111f83cd\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Map.vue\n// module id = 3GDu\n// module chunks = 1","<template>\n  <div class=\"toolbar\">\n      <div class=\"titlebar\">\n        <router-link :to=\"'/'\" class=\"titlebar__router-link\">\n          <img src=\"/static/map.svg\" class=\"titlebar__icon\" />\n        </router-link>\n        <h1 class=\"titlebar__title\">Pathwaay</h1>\n        <p class=\"titlebar__search-label\">Search:</p>\n      </div>\n\n      <div class=\"search\">\n        <form class=\"search__form\" v-on:submit.prevent=\"changeSearch\">\n          <input type=\"text\" class=\"search__textbox\" @input=\"updateSearch($event.target.value)\" :value=\"search\" />\n        </form>\n      </div>\n    </div>\n</template>\n\n<script>\nexport default {\n  props: ['search', 'changeSearch'],\n  methods: {\n    updateSearch (search) {\n      this.$emit('input', search)\n    }\n  },\n  data () {\n    return {\n      searchText: ''\n    }\n  }\n}\n</script>\n\n<style lang=\"stylus\" scoped>\n@import './../stylus/colors';\n\n.toolbar {\n  display flex\n  flex 2\n  background-color #fff\n}\n\n.titlebar {\n  display flex\n  align-items center\n  flex 2\n  content \"\"\n  background-color main\n  \n  &__router-link {\n    display flex\n    flex 0 1 auto\n  }\n\n  &__icon {\n    height calc(15px + 2.5vw)\n    padding-left .5rem\n    flex 0 1 auto\n    \n  }\n\n  &__search-label {\n    padding-right 1rem\n    text-align right\n    flex 0 1 auto\n    color #FFF\n    font-size 1rem\n    font-size calc(.5rem + 1vmin)\n    font-weight bold\n    font-family 'Spectral SC', serif\n  }\n\n  &__link {\n    color dark\n    text-decoration none\n    padding 0 1rem\n    font-weight 300\n    font-size 1.1rem\n    flex 0 1 auto\n  }\n\n  &__title {\n    flex 1\n    margin 0\n    font-family 'Spectral SC', serif\n    font-weight 300\n    color #FFF\n    padding-left calc(.2rem + 1vmin)\n    font-size 1.2rem\n    font-size calc(.5rem + 2.2vmin)\n  }\n}\n\n.search {\n  display flex\n  flex-direction column\n  flex 1\n  background-color #fdfdfd\n  color #fff\n  border 4px solid main\n\n  &__form {\n    display flex\n    flex 1\n    align-self stretch\n  }\n\n  &__textbox {\n    flex 1\n    align-self stretch\n    font-size 1rem\n    font-size calc(.6rem + 1.1vmin)\n    background transparent\n    border 0\n    padding 0 .6rem\n    color darken(main, 10%)\n    width 100%\n    font-weight bold\n\n    &:focus, &:active {\n      outline 0\n    }\n  }\n}\n</style>\n\n\n\n\n\n// WEBPACK FOOTER //\n// src/components/Toolbar.vue","<template>\n  <div class=\"home\">\n    <h1 class=\"home__title\">\n      Pathwaay\n    </h1>\n    <h2 class=\"home__subtitle\">\n      Find your next career move the right way\n    </h2>\n\n    <div class=\"search\">\n      <div class=\"search__fields\">\n          <div class=\"sm-flex\">\n            <label class=\"search__keyword\">\n              <p class=\"search__label-text\">\n                Keyword:\n                <small class=\"search__error\" v-if=\"submitted && missingKeyword\">(required)</small>\n              </p>\n              <input type=\"text\" placeholder=\"Plumber\" :class=\"{ search__input: true, 'search__input--error': submitted && missingKeyword}\" v-model=\"search\" />\n            </label>\n\n            <label class=\"search__location\">\n              <p class=\"search__label-text\">City, State:\n                <small class=\"search__error\" v-if=\"submitted && missingLocation\">(required)</small>\n              </p>\n              <input type=\"text\" placeholder=\"New York, NY\" :class=\"{ search__input: true, 'search__input--error': submitted && missingLocation}\" v-model=\"location\" list=\"suggestions\" />\n              <div class=\"suggestions\" v-if=\"isOpen && suggestions.length > 0 && !(suggestions.length === 1 && suggestions[0]._id === location)\">\n                <div \n                  class=\"suggestions__suggestion\" \n                  v-for=\"suggestion in suggestions\" \n                  @click=\"pickLocation(suggestion)\">\n                  {{suggestion._id}}\n                </div>\n              </div>\n            </label>\n        </div>\n      </div>\n      <div class=\"search__actions\">\n        <button class=\"search__submit\" @click=\"onSearch\">\n          Find my next career\n        </button>\n      </div>\n    </div>\n\n    <img class=\"home__hero\" src=\"/static/home_map.svg\" />\n  </div>\n\n</template>\n\n<script>\nimport debounce from 'lodash/debounce'\nconst host = process.env.NODE_ENV === 'development' ? 'localhost:3001' : '104.236.76.175'\n\nexport default {\n  name: 'Home',\n  data () {\n    return {\n      search: '',\n      location: '',\n      suggestions: [],\n      submitted: false,\n      missingKeyword: false,\n      missingLocation: false,\n      isOpen: false\n    }\n  },\n  methods: {\n    pickLocation (suggestion) {\n      window.ga('send', 'event', 'pickLocation', suggestion._id)\n      this.location = suggestion._id\n      this.isOpen = false\n    },\n    onSearch () {\n      this.submitted = true\n\n      if (!this.search) {\n        this.missingKeyword = true\n      } else {\n        this.missingKeyword = false\n      }\n\n      if (!this.location) {\n        this.missingLocation = true\n      } else {\n        this.missingLocation = false\n      }\n\n      this.getSuggestions()\n      .then(suggestions => {\n        if (suggestions.length > 0) {\n          const {location: {coordinates}} = suggestions[0]\n          const search = this.search\n\n          window.ga('send', 'event', 'search', `${search} | ${coordinates[0]}, ${coordinates[1]}`)\n\n          this.$router.push({\n            path: '/map',\n            query: { lat: coordinates[1], lng: coordinates[0], search, zoom: 10 }\n          })\n        }\n      })\n    },\n    debounceSuggestions: debounce(function () {\n      this.getSuggestions()\n      .then(suggestions => {\n        if (suggestions.length > 0) {\n          this.isOpen = true\n        }\n\n        this.suggestions = suggestions\n      })\n    }, 500),\n    getSuggestions () {\n      return fetch(`http://${host}/suggestion?location=${this.location}`)\n      .then(resp => resp.json())\n    }\n  },\n  watch: {\n    location: function () {\n      if (this.location.length > 1) {\n        this.debounceSuggestions()\n      }\n    }\n  },\n  mounted () {\n    window.ga('send', 'pageview', '/')\n  }\n}\n</script>\n\n<style lang=\"stylus\">\nmain = #54558C\nmint = #4FEAC3\nred = #E85D75\nwarm = #FFC857\n\n  body, html {\n    background-color #fff\n    display flex\n    flex-direction column\n  }\n\n  .home {\n    display flex\n    flex 1\n    flex-direction column\n    align-items stretch\n    margin 0 auto\n    max-width 650px\n    padding 0 1rem\n\n    &__title {\n      text-align center\n      font-family 'Spectral SC', serif\n      color #654F6F\n    }\n\n    &__subtitle {\n      font-family 'Spectral SC', serif\n      flex 1\n      color #654F6F\n      text-align center\n      padding-bottom 1rem\n      font-size 1.1rem\n      font-size calc(.5rem + 1vmin)\n    }\n\n    &__hero {\n      flex 1\n      padding-top 2rem\n    }\n  }\n\n  .search {\n    display flex\n    flex-direction column\n    align-items stretch\n    flex 1\n\n    &__error {\n      color red\n    }\n\n    &__actions {\n      display flex\n      margin-top 1.2rem\n      justify-content center\n    }\n\n    &__submit {\n      background-color main\n      color #fff\n      border 0\n      padding .6rem\n      font-size .78rem\n      font-family 'Spectral SC', serif\n      font-weight bold\n      border-radius .3rem\n      cursor pointer\n\n      &:focus, &:active {\n        outline 0\n      }\n    }\n\n    &__input {\n      height 40px\n      width 100%\n      font-size 1rem\n      padding .4rem\n\n      border none\n      border-bottom 3px solid main\n      color #654F6F\n      font-weight bold\n\n      &--error {\n        border-bottom 3px solid red\n      }\n\n      &:focus, &:active {\n        outline 0\n      }\n    }\n\n    &__label-text {\n      font-family: 'Spectral SC', serif;\n      font-size .75rem\n      font-weight bold\n      margin 0\n      color #424242\n    }\n\n    &__keyword {\n      flex 1.5\n\n      &__label {\n        font-size .8rem\n        font-weight bold\n        margin 0\n      }\n    }\n\n    &__location {\n      flex 1\n      margin-left .7rem\n      position relative\n\n      &__label {\n        font-size .8rem\n        font-weight bold\n        margin 0\n      }\n    }\n\n    .suggestions {\n      width 100%\n      min-width 130px\n      position absolute\n      right 0px\n\n      margin-top 10px\n\n      padding .7rem .5rem\n      background-color #fefefe\n      border 2px solid lighten(main, 20%)\n      border-radius .2rem\n\n      &__suggestion {\n        cursor pointer\n        font-weight bold\n        color darken(main, 10%)\n\n        &:hover {\n          text-decoration underline\n        }\n      }\n    }\n  }\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/Home.vue","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-25441132\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-25441132\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = M93x\n// module chunks = 1","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport router from './router'\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  template: '<App/>',\n  components: { App }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"zmm\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"zmm__indicator\",style:({ bottom: (Math.round(_vm.meterHeight / 12)) * _vm.zoom + 'px' })})])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"zmm__bar\"},[_c('div',{staticClass:\"zmm__ok\"}),_vm._v(\" \"),_c('div',{staticClass:\"zmm__good\"})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-863506d4\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/ZoomMatchMeter.vue\n// module id = PpX7\n// module chunks = 1","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"clearfix layout\"},[_c('toolbar',{attrs:{\"changeSearch\":_vm.changeSearch,\"search\":_vm.search},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}}),_vm._v(\" \"),(_vm.cacheMessage && !_vm.cacheMessage.inCache)?_c('div',{staticClass:\"cache\"},[_c('i',{staticClass:\"fa fa-spin fa-circle-o-notch\"}),_vm._v(\"\\n    \"+_vm._s(_vm.cacheMessage.message)+\"\\n  \")]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"layout__content\"},[_c('div',{staticClass:\"layout__map\"},[_c('zoom-match-meter',{attrs:{\"zoom\":_vm.zoom}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"mapid\"}})],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-111f83cd\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Map.vue\n// module id = QnF/\n// module chunks = 1","import L from 'leaflet'\nimport forEach from 'lodash/forEach'\n\nconst host = process.env.NODE_ENV === 'development' ? 'localhost:3001' : 'pathwaay.io'\n\nconst markerOptions = {\n  popupAnchor: [0, -5]\n}\n\nconst goodMatch = L.icon({\n  iconUrl: `http://${host}/markers/good_match_circle.svg`,\n  iconSize: [25, 25],\n  ...markerOptions\n})\n\nconst okMatch = L.icon({\n  iconUrl: `http://${host}/markers/ok_match_circle.svg`,\n  iconSize: [18, 18],\n  ...markerOptions\n})\n\nconst getPercentile = jobs => {\n  return Math.floor(jobs.length * 0.75)\n}\n\nconst buildJobs = (jobs, jobObj) => {\n  const percentile = getPercentile(jobs)\n  jobs.forEach(buildJob.bind(null, jobObj, percentile))\n  return jobObj\n}\n\nconst buildJob = (jobs, percentile, job, index) => {\n  jobs[job.id] = {...jobs[job.id], ...job, index, status: index < percentile ? 'ok' : 'good'}\n  jobs[job.id].marker = newMarker(job, percentile, index)\n}\n\nconst newMarker = (job, percentile, index) => {\n  const {location: {coordinates}} = job\n\n  const marker = L.marker([coordinates[1], coordinates[0]], {\n    icon: index < percentile ? okMatch : goodMatch,\n    score: job.score\n  })\n\n  marker.bindPopup(`\n    <div class=\"marker\">\n      <h5 class=\"marker__title\">\n        <a class=\"marker__title__link\" href=\"https://indeed.com${job.link}\" target=\"_blank\" onclick=\"ga('send', 'event', 'title', 'click', '${job.title}')\">\n          ${job.title}\n        </a>\n      </h5>\n      <a class=\"marker__company\" href=\"https://indeed.com${job.link}\" target=\"_blank\" onclick=\"ga('send', 'event', 'company', 'click', '${job.title}')\">${job.company}</a>\n      <p class=\"marker__description\">${job.description}</p>\n    </div>\n  `)\n\n  return marker\n}\n\nconst removeDuplicateJobs = (oldJobs, newJobs) => {\n  const uniqueJobs = {...oldJobs}\n\n  forEach(newJobs, newJob => {\n    delete uniqueJobs[newJob.id]\n  })\n\n  return uniqueJobs\n}\n\nconst removeOkJobsMarker = (jobs, map, average) => {\n  forEach(jobs, job => {\n    if (job.score < average) {\n      map.removeLayer(job.marker)\n    }\n  })\n}\n\nexport {\n  buildJobs,\n  newMarker,\n  getPercentile,\n  removeDuplicateJobs,\n  removeOkJobsMarker\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/jobs.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-25441132\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = Vq/C\n// module chunks = 1","import Vue from 'vue'\nimport Router from 'vue-router'\nimport Map from '@/components/Map'\nimport Home from '@/components/Home'\n\nVue.use(Router)\n\nexport default new Router({\n  routes: [\n    {\n      path: '/',\n      name: 'Home',\n      component: Home\n    },\n    {\n      path: '/map',\n      name: 'Map',\n      component: Map\n    }\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6a28adec\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Toolbar.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Toolbar.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6a28adec\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Toolbar.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6a28adec\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Toolbar.vue\n// module id = djO7\n// module chunks = 1","<template>\n  <div class=\"clearfix layout\">\n    <toolbar :changeSearch=\"changeSearch\" v-model=\"search\" :search=\"search\"></toolbar>\n\n    <div v-if=\"cacheMessage && !cacheMessage.inCache\" class=\"cache\">\n      <i class=\"fa fa-spin fa-circle-o-notch\"></i>\n      {{cacheMessage.message}}\n    </div>\n\n    <div class=\"layout__content\">\n      <div class=\"layout__map\">\n        <zoom-match-meter :zoom=\"zoom\"></zoom-match-meter>\n        <div id=\"mapid\"></div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport L from 'leaflet'\nimport debounce from 'lodash/debounce'\nimport ZoomMatchMeter from './ZoomMatchMeter'\nimport Toolbar from './Toolbar'\nimport forEach from 'lodash/forEach'\n\nimport {buildJobs, removeOkJobsMarker} from './../jobs'\n\nexport default {\n  name: 'map',\n  data () {\n    const host = process.env.NODE_ENV === 'development' ? 'localhost:3001' : '104.236.76.175'\n    return {\n      zoom: 0,\n      oldZoom: 0,\n      search: decodeURIComponent(this.getQueryString('search')),\n      isShowingGoodMatches: true,\n      isShowingOkMatches: false,\n      map: null,\n      markerLayer: null,\n      jobs: {},\n      socket: {},\n      totalJobs: 0,\n      host,\n      cacheMessage: null,\n      jobScoreAverage: 0\n    }\n  },\n  methods: {\n    getMessage () {\n      const bounds = this.map.getBounds()\n      const center = this.map.getCenter()\n      const coords = [center.lng, center.lat]\n\n      const box = {\n        type: 'mapMove',\n        data: {\n          keyword: this.search,\n          within: [\n            [bounds._southWest.lng, bounds._northEast.lat],\n            [bounds._northEast.lng, bounds._northEast.lat],\n            [bounds._northEast.lng, bounds._southWest.lat],\n            [bounds._southWest.lng, bounds._southWest.lat],\n            [bounds._southWest.lng, bounds._northEast.lat]\n          ],\n          center: coords\n        }\n      }\n\n      return box\n    },\n    panToCompanyOnMap (job) {\n      this.map.panTo(new L.LatLng(job.location.coordinates[1], job.location.coordinates[0]))\n    },\n    debouncedSendCoords: debounce(function () {\n      const message = this.getMessage()\n      window.ga('send', 'event', 'mapSearch', message.data.keyword, `${message.data.center[0]}, ${message.data.center[1]}`)\n      this.socket.send(JSON.stringify(message))\n    }, 500),\n    changeSearch () {\n      this.sendCoords()\n    },\n    sendCoords () {\n      if (this.map.getZoom() >= 5 && this.search.length > 2) {\n        this.debouncedSendCoords()\n      }\n      this.updateQueryString()\n    },\n    updateQueryString () {\n      const center = this.map.getCenter()\n      const search = this.search\n      const zoom = this.map.getZoom()\n\n      this.$router.replace({\n        path: '/map',\n        query: { lat: center.lat, lng: center.lng, search, zoom }\n      })\n    },\n    getQueryString (field) {\n      var href = window.location.href\n      var reg = new RegExp('[?&]' + field + '=([^&#]*)', 'i')\n      var string = reg.exec(href)\n      return string ? string[1] : null\n    },\n    populateJobs (jobs) {\n      this.map.removeLayer(this.markerLayer)\n      this.markerLayer.clearLayers()\n\n      const newJobs = buildJobs(jobs, {...this.jobs})\n      this.jobs = {}\n\n      forEach(newJobs, job => {\n        if (this.zoom < 11 && job.status === 'ok') {\n          return\n        }\n\n        job.marker.addTo(this.markerLayer)\n      })\n\n      this.markerLayer.addTo(this.map)\n      this.jobs = newJobs\n    }\n  },\n  created () {\n    this.socket = new WebSocket(`ws://${this.host}/ws`)\n    this.socket.onmessage = ({data}) => {\n      const resp = JSON.parse(data)\n\n      switch (resp.type) {\n        case 'jobs':\n          if (resp.from === 'indeed') {\n            this.cacheMessage = null\n          }\n          this.populateJobs(resp.message)\n          break\n        case 'cache':\n          this.cacheMessage = resp\n          break\n      }\n    }\n  },\n  mounted () {\n    document.getElementById('mapid').setAttribute('style', `height:${window.innerHeight - 20}px;position:relative`)\n\n    this.map = L.map('mapid')\n    this.markerLayer = L.layerGroup().addTo(this.map)\n\n    const latitude = this.getQueryString('lat') || 47.658780\n    const longitude = this.getQueryString('lng') || -117.426046\n    const zoom = this.getQueryString('zoom') || 10\n\n    this.zoom = zoom\n\n    window.ga('send', 'pageview', '/map')\n\n    L.tileLayer('https://api.mapbox.com/styles/v1/snippyboons/cj9z60tsd89lw2sphcbqnd0x4/tiles/256/{z}/{x}/{y}?access_token=pk.eyJ1Ijoic25pcHB5Ym9vbnMiLCJhIjoiY2o4YXBpOThmMDRqMjMycDZhOGt6dTVibCJ9.dTxAsWgm-MNT-wBTVCBODg', {\n      maxZoom: 16,\n      id: 'mapbox.streets',\n      accessToken: 'pk.eyJ1Ijoic25pcHB5Ym9vbnMiLCJhIjoiY2o4YXBpOThmMDRqMjMycDZhOGt6dTVibCJ9.dTxAsWgm-MNT-wBTVCBODg'\n    }).addTo(this.map)\n\n    this.map.setView([latitude, longitude], zoom)\n    this.map.on('moveend', this.sendCoords)\n    this.map.on('zoomend', () => {\n      this.zoom = this.map.getZoom()\n\n      if (this.zoom < 12) {\n        removeOkJobsMarker(this.jobs, this.map, this.jobScoreAverage)\n      }\n\n      this.oldZoom = this.zoom\n    })\n\n    this.sendCoords()\n  },\n  components: {\n    ZoomMatchMeter,\n    Toolbar\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style lang=\"stylus\" scoped>\nmain = #54558C\nmint = #4FEAC3\nred = #E85D75\nwarm = #FFC857\n\n.cache {\n  position absolute\n  bottom 10px\n  right 10px\n  z-index 999\n  background-color #fafafa\n  padding .6rem\n  border 1px solid #333\n  border-radius .25rem\n}\n\nh1, h2 {\n  font-weight: normal;\n}\n\nul {\n  list-style-type: none;\n  padding: 0;\n}\n\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\n\na {\n  color: #42b983;\n}\n\n#mapid {\n  content \"\"\n}\n\n.layout {\n  display flex\n  margin 0 auto\n  flex-direction column\n\n  &__content {\n    display flex\n  }\n\n  &__map {\n    flex 10\n    box-shadow inset 0 0 4px #333\n  }\n\n  &__donate-text {\n    font-weight 500\n    margin 0\n    font-size .9rem\n    padding 0 1rem\n    color orange\n  }\n}\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/Map.vue","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-246bbd84\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Home.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Home.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-246bbd84\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Home.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Home.vue\n// module id = lO7g\n// module chunks = 1","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"home\"},[_c('h1',{staticClass:\"home__title\"},[_vm._v(\"\\n    Pathwaay\\n  \")]),_vm._v(\" \"),_c('h2',{staticClass:\"home__subtitle\"},[_vm._v(\"\\n    Find your next career move the right way\\n  \")]),_vm._v(\" \"),_c('div',{staticClass:\"search\"},[_c('div',{staticClass:\"search__fields\"},[_c('div',{staticClass:\"sm-flex\"},[_c('label',{staticClass:\"search__keyword\"},[_c('p',{staticClass:\"search__label-text\"},[_vm._v(\"\\n              Keyword:\\n              \"),(_vm.submitted && _vm.missingKeyword)?_c('small',{staticClass:\"search__error\"},[_vm._v(\"(required)\")]):_vm._e()]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.search),expression:\"search\"}],class:{ search__input: true, 'search__input--error': _vm.submitted && _vm.missingKeyword},attrs:{\"type\":\"text\",\"placeholder\":\"Plumber\"},domProps:{\"value\":(_vm.search)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.search=$event.target.value}}})]),_vm._v(\" \"),_c('label',{staticClass:\"search__location\"},[_c('p',{staticClass:\"search__label-text\"},[_vm._v(\"City, State:\\n              \"),(_vm.submitted && _vm.missingLocation)?_c('small',{staticClass:\"search__error\"},[_vm._v(\"(required)\")]):_vm._e()]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.location),expression:\"location\"}],class:{ search__input: true, 'search__input--error': _vm.submitted && _vm.missingLocation},attrs:{\"type\":\"text\",\"placeholder\":\"New York, NY\",\"list\":\"suggestions\"},domProps:{\"value\":(_vm.location)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.location=$event.target.value}}}),_vm._v(\" \"),(_vm.isOpen && _vm.suggestions.length > 0 && !(_vm.suggestions.length === 1 && _vm.suggestions[0]._id === _vm.location))?_c('div',{staticClass:\"suggestions\"},_vm._l((_vm.suggestions),function(suggestion){return _c('div',{staticClass:\"suggestions__suggestion\",on:{\"click\":function($event){_vm.pickLocation(suggestion)}}},[_vm._v(\"\\n                \"+_vm._s(suggestion._id)+\"\\n              \")])})):_vm._e()])])]),_vm._v(\" \"),_c('div',{staticClass:\"search__actions\"},[_c('button',{staticClass:\"search__submit\",on:{\"click\":_vm.onSearch}},[_vm._v(\"\\n        Find my next career\\n      \")])])]),_vm._v(\" \"),_c('img',{staticClass:\"home__hero\",attrs:{\"src\":\"/static/home_map.svg\"}})])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-246bbd84\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Home.vue\n// module id = llp2\n// module chunks = 1","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"toolbar\"},[_c('div',{staticClass:\"titlebar\"},[_c('router-link',{staticClass:\"titlebar__router-link\",attrs:{\"to\":'/'}},[_c('img',{staticClass:\"titlebar__icon\",attrs:{\"src\":\"/static/map.svg\"}})]),_vm._v(\" \"),_c('h1',{staticClass:\"titlebar__title\"},[_vm._v(\"Pathwaay\")]),_vm._v(\" \"),_c('p',{staticClass:\"titlebar__search-label\"},[_vm._v(\"Search:\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"search\"},[_c('form',{staticClass:\"search__form\",on:{\"submit\":function($event){$event.preventDefault();_vm.changeSearch($event)}}},[_c('input',{staticClass:\"search__textbox\",attrs:{\"type\":\"text\"},domProps:{\"value\":_vm.search},on:{\"input\":function($event){_vm.updateSearch($event.target.value)}}})])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-6a28adec\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Toolbar.vue\n// module id = qcAB\n// module chunks = 1","<template>\n  <div id=\"app\">\n    <router-view></router-view>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'app'\n}\n</script>\n\n<style lang=\"stylus\">\nmain = #54558C\nmint = #4FEAC3\nred = #E85D75\nwarm = #FFC857\n\nhtml, body {\n  overflow: hidden;\n}\n\n#app {\n  font-family: 'Roboto', sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  width 100%\n}\n\n.leaflet-popup-close-button {\n  font-size 22px !important\n  color #424242 !important\n  margin-right .5rem\n  margin-top .4rem\n}\n\n.leaflet-popup-content-wrapper {\n    background-color #fbfbfb\n    padding .4rem\n}\n\n.leaflet-popup-content {\n  margin 0rem !important\n}\n\n.marker {\n  &__title {\n    margin .5rem 0 !important\n\n    &__link {\n      cursor pointer\n      font-size 1rem\n      font-size calc(.74rem + 1vmin)\n      text-decoration none !important\n      color #424242 !important\n    }\n  }\n  &__company {\n    color #5c5d8d !important\n    font-weight bold\n    margin .5rem 0 !important\n    font-size .85rem\n    font-size calc(.5rem + 1.2vmin)\n    text-decoration underline\n    cursor pointer\n  }\n  &__description {\n    color #424242\n    font-size .85rem\n    font-size calc(.6rem + .6vmin)\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue"],"sourceRoot":""}